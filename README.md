# miaosha-plus
:zap:对于秒杀系统的进一步优化项目

### 秒杀是做什么的

主要是对爆款商品的出售提供了支持,会限制商品个数以及持续时间

### 秒杀逻辑

`下订单` -> `减库存`

难点:

* 秒杀开始时会有大量用户参与进来,因此秒杀一定要满足`高并发` / `高性能`
* 保证整个秒杀流程顺利的进行,系统要满足高可用
* 要保证一致性,不能发生`超卖`/`多卖`问题



### 秒杀系统需要重点关注的问题

* 秒杀商品属于热点数据,如何处理热点数据？
* 大量订单下,解决超卖问题?
* 如何保证MQ不丢失信息?
* 如何保证高可用?
* 如何对项目进行压测?



### 高并发 / 高性能

#### 何为热点数据

某一时间端内被大量访问的数据,爆款商品

#### 为何关注热点数据

热点数据占用资源少,但访问量极高,不处理影响系统性能

#### 热点数据分类

* 静态热点数据:可以提前预测到的热点数据
* 动态热点数据:不能够提前预测到的热点数据

#### 流量削峰

将业务系统的压力转嫁到MQ上,采用消息队列中间件,将请求入队,后端服务再根据自己的能力消费这些消息,避免请求直接将后端服务打掉

#### 验证码

* 避免用户请求过于集中
* 有效解决用户的脚本作弊

#### 页面静态化



### 高可用

* 集群化
* 限流
* 排队
* 降级



### 一致性

#### 减库存方案

* 下单减库存(一般情况下)
* 付款减库存

#### 接口幂等

* 分布式锁
* 业务字段唯一索引约束

#### MQ

* 保证消息的消费顺序
* 保证消息不丢失
* 保证消息不重复消费

